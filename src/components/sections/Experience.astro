---
import Section from "../Section.astro";

import { work } from "@cv";
---

<Section title="Experience" class="relative mt-8">
   <ul class="flex flex-col gap-8">
      {
         work.map(({ name, startDate, endDate, position, summary, url }) => {
            const startYear = new Date(startDate).getFullYear();
            const endYear =
               endDate != null ? new Date(endDate).getFullYear() : "Actual";

            return (
               <li class="my-4 border-l-2 pl-2 border-pinky">
                  <article>
                     <header class="flex justify-between items-start mb-1">
                        <div>
                           <h3 class="font-bold text-xl text-amarillo">
                              {position}
                           </h3>
                           <h4 class="italic">
                              <a
                                 href={url}
                                 title={`Ver ${name}`}
                                 target="_blank"
                              >
                                 {name}
                              </a>
                           </h4>
                        </div>

                        <div>
                           <time datetime={startDate} data-title={startDate}>
                              {startYear}
                           </time>
                           -
                           <time datetime={endDate} data-title={endDate}>
                              {endYear}
                           </time>
                        </div>
                     </header>

                     <footer>
                        <p>{summary}</p>
                     </footer>
                  </article>
               </li>
            );
         })
      }
   </ul>
</Section>

<style>
   time {
      @apply text-amarillo text-[0.85rem] min-w-[102px] cursor-default;
   }
</style>
